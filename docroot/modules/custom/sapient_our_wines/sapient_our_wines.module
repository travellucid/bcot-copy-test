<?php

/**
 * @file
 */

/**
 * Theme hook.
 */

/**
 *
 */
function sapient_our_wines_theme($existing, $type, $theme, $path) {
  
  return array(
    'sapient_our_wines_block' => array(
      'variables' => array('arguments' => NULL,'filters' => NULL),
    ),
	
  );

}

function sapient_our_wines_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id){
	//print_r($form_id);die('test1');
	if($form_id == 'node_homepage_edit_form' or $form_id == 'node_homepage_form' ){
		$form['#validate'][] = 'character_limitation_homepage';
	}
	if($form_id == 'node_our_story_edit_form' or $form_id == 'node_our_story_form' ){
		$form['#validate'][] = 'character_limitation_our_story';
	}
	if($form_id == 'node_visit_us_edit_form' or $form_id == 'node_visit_us_form' ){
		$form['#validate'][] = 'character_limitation_visit_us';
	}
	if($form_id == 'menu_link_content_menu_link_content_form' ){
		$form['#validate'][] = 'character_limitation_header_menu';
	}
	if($form_id == 'node_vineyard_edit_form' or $form_id == 'node_vineyard_form' ){
		$form['#validate'][] = 'character_limitation_vineyard_page';
	}
	if($form_id == 'node_tours_and_experiences_edit_form' or $form_id == 'node_tours_and_experiences_form' ){
		$form['#validate'][] = 'character_limitation_tours_and_experiences';
	}
  if($form_id == 'node_wines_edit_form' or $form_id == 'node_wines_form' ){
		$form['#validate'][] = 'character_limitation_wines_page';
	}
	if($form_id == 'node_restaurant__edit_form' or $form_id == 'node_restaurant__form' ){
		
		$form['#validate'][] = 'character_limitation_restaurant';
	}
}



function character_limitation_restaurant($form, \Drupal\Core\Form\FormStateInterface $form_state) {
 
  $values = $form_state->getValues();
  $menu_description = strlen($values['field_menu_description'][0]['value']);
  
  
   if ($menu_description > 200){
    $form_state->setErrorByName('field_menu_description','Max length for this field is 200 characters.');
  }
}


function character_limitation_vineyard_page($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  
  $values = $form_state->getValues();
  $referred_comp = count($values['field_referred_content']);
  $discover_comp = count($values['field_discover_carausal']);
  $hero_bottom_desc = strlen($values['field_hero_bottom_description'][0]['value']);
  $sign_up_text = strlen($values['field_signup'][0]['title']);
  //
  $a = strlen($values['field_discover_carausal'][0]['field_carousel_description'][0]['value']);
  //print_r($a);die('test');
   if (strlen($values['field_referred_content'][0]['field_find_'][0]['value']) > 20){
    $form_state->setErrorByName('field_referred_content][0][field_find_', 'Max length for this field is 20 characters.');
   }
   if (strlen($values['field_referred_content'][1]['field_find_'][0]['value']) > 20){
    $form_state->setErrorByName('field_referred_content][1][field_find_', 'Max length for this field is 20 characters.');
   }
   if (strlen($values['field_referred_content'][2]['field_find_'][0]['value']) > 20){
    $form_state->setErrorByName('field_referred_content][2][field_find_', 'Max length for this field is 20 characters.');
   }
   if (strlen($values['field_referred_content'][3]['field_find_'][0]['value']) > 20){
    $form_state->setErrorByName('field_referred_content][3][field_find_', 'Max length for this field is 20 characters.');
   }
   if (strlen($values['field_referred_content'][4]['field_find_'][0]['value']) > 20){
    $form_state->setErrorByName('field_referred_content][3][field_find_', 'Max length for this field is 20 characters.');
   }

   if (strlen($values['field_referred_content'][0]['field_description'][0]['value']) > 200){
    $form_state->setErrorByName('field_referred_content][0][field_description', 'Max length for this field is 200 characters.');
   }
   if (strlen($values['field_referred_content'][1]['field_description'][0]['value']) > 200){
    $form_state->setErrorByName('field_referred_content][1][field_description', 'Max length for this field is 200 characters.');
   }
   if (strlen($values['field_referred_content'][2]['field_description'][0]['value']) > 200){
    $form_state->setErrorByName('field_referred_content][2][field_description', 'Max length for this field is 200 characters.');
   }
   if (strlen($values['field_referred_content'][3]['field_description'][0]['value']) > 200){
    $form_state->setErrorByName('field_referred_content][3][field_description', 'Max length for this field is 200 characters.');
   }
   if (strlen($values['field_referred_content'][4]['field_description'][0]['value']) > 200){
    $form_state->setErrorByName('field_referred_content][3][field_description', 'Max length for this field is 200 characters.');
   }
  
  
   if (strlen($values['field_discover_carausal'][0]['field_carousel_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_discover_carausal][0][field_carousel_description', 'Max length for this field is 500 characters.');
   }
   if (strlen($values['field_discover_carausal'][1]['field_carousel_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_discover_carausal][1][field_carousel_description', 'Max length for this field is 500 characters.');
   }
   if (strlen($values['field_discover_carausal'][2]['field_carousel_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_discover_carausal][2][field_carousel_description', 'Max length for this field is 500 characters.');
   }
   if (strlen($values['field_discover_carausal'][3]['field_carousel_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_discover_carausal][3][field_carousel_description', 'Max length for this field is 500 characters.');
   }
   if (strlen($values['field_discover_carausal'][4]['field_carousel_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_discover_carausal][3][field_carousel_description', 'Max length for this field is 500 characters.');
   }

    if ($hero_bottom_desc > 500){
    $form_state->setErrorByName('field_hero_bottom_description','Max length for this field is 500 characters.');
   }
   if ($sign_up_text > 20){
    $form_state->setErrorByName('field_signup','Max length for this field is 20 characters.');
   }
   
}

function character_limitation_header_menu($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  
  $values = $form_state->getValues();
  $link_length = strlen($values['title'][0]['value']);
  
  //print_r($link_length);die('sallu');
   if ($link_length > 20){
    $form_state->setErrorByName('title','Max length for this field is 20 characters.');
  }
}

function character_limitation_visit_us($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  
  $values = $form_state->getValues();
  $link_visit_us = strlen($values['field_hero_cta_first'][0]['title']);
  
  //print_r($link_visit_us);die('sallu');
   if ($link_visit_us > 15){
    $form_state->setErrorByName('field_hero_cta_first','Max length for this field is 15 characters.');
  }
}

function character_limitation_our_story($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  $values = $form_state->getValues();
  $link_our_story = strlen($values['field_hero_cta_first'][0]['title']);
  
  
   if ($link_our_story > 30){
    $form_state->setErrorByName('field_hero_cta_first','Max length for this field is 30 characters.');
  }
}

function character_limitation_homepage($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  $values = $form_state->getValues();
  //$desc_visit_us = strlen($values['field_visit_us_description'][0]['value']);
  $desc_our_wines = strlen($values['field_our_wine_description'][0]['value']);
  $cta1_length_promo = strlen($values['field_hero_cta_first'][0]['title']);
  $cta2_length_promo = strlen($values['field_hero_cta_second'][0]['title']);
  $cta3_length_promo = strlen($values['field_hero_cta_thi'][0]['title']);
  $cta_length_signup = strlen($values['field_signup'][0]['title']);
  $cta_length_visitus = strlen($values['field_visit_us_cta'][0]['title']);
  $cta_length_wines = strlen($values['field_our_wine_cta'][0]['title']);
  //$our_perspective_subheading =strlen($values['field_our_perspective_subheading'][0]['value']);
  //$our_perspective_headline =strlen($values['field_our_perspective_headline'][0]['value']);
  $our_perspective_desc =strlen($values['field_our_perspective_desc'][0]['value']);
  //$visit_us_subheading =strlen($values['field_visit_us_small_headline'][0]['value']);
  //$visit_us_heading =strlen($values['field_visit_us_mainheadline'][0]['value']);
  $visit_us_desc =strlen($values['field_visit_us_description'][0]['value']);
  
  
 // print_r($a);die;
  
  
  if ($desc_our_wines > 240){
    $form_state->setErrorByName('field_our_wine_description','Max length for this field is 240 characters.');
  }
  if ($cta1_length_promo > 20 ){
    $form_state->setErrorByName('field_hero_cta_first','Max length for this field is 20 characters.');
  }
  if ($cta2_length_promo > 20 ){
    $form_state->setErrorByName('field_hero_cta_second','Max length for this field is 20 characters.');
  }
  if ($cta3_length_promo > 20 ){
    $form_state->setErrorByName('field_hero_cta_thi','Max length for this field is 20 characters.');
  }
  if ($cta_length_signup > 15){
    $form_state->setErrorByName('field_signup','Max length for this field is 15 characters.');
  }
  if ($cta_length_visitus > 30){
    $form_state->setErrorByName('field_visit_us_cta','Max length for this field is 30 characters.');
  }
   if ($cta_length_wines > 30){
    $form_state->setErrorByName('field_our_wine_cta','Max length for this field is 30 characters.');
  }
  
  if ($our_perspective_desc > 500){
    $form_state->setErrorByName('field_our_perspective_desc','Max length for this field is 500 characters.');
  }
  
  if ($visit_us_desc > 500){
    $form_state->setErrorByName('field_visit_us_description','Max length for this field is 500 characters.');
  }
}

function character_limitation_tours_and_experiences($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  $values = $form_state->getValues();

   if (strlen($values['field_rezdy_block_collection'][0]['field_rezdy_block_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_rezdy_block_collection][0][field_rezdy_block_description', 'Max length for this field is 30 characters.');
   }

   if (strlen($values['field_rezdy_block_collection'][1]['field_rezdy_block_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_rezdy_block_collection][1][field_rezdy_block_description', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][2]['field_rezdy_block_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_rezdy_block_collection][2][field_rezdy_block_description', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][3]['field_rezdy_block_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_description', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][4]['field_rezdy_block_description'][0]['value']) > 500){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_description', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][0]['field_rezdy_block_cost'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][0][field_rezdy_block_cost', 'Max length for this field is 30 characters.');
   }

   if (strlen($values['field_rezdy_block_collection'][1]['field_rezdy_block_cost'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][1][field_rezdy_block_cost', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][2]['field_rezdy_block_cost'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][2][field_rezdy_block_cost', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][3]['field_rezdy_block_cost'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_cost', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][4]['field_rezdy_block_cost'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_cost', 'Max length for this field is 30 characters.');
   }

   if (strlen($values['field_rezdy_block_collection'][0]['field_rezdy_block_availability'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][0][field_rezdy_block_availability', 'Max length for this field is 30 characters.');
   }

   if (strlen($values['field_rezdy_block_collection'][1]['field_rezdy_block_availability'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][1][field_rezdy_block_availability', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][2]['field_rezdy_block_availability'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][2][field_rezdy_block_availability', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][3]['field_rezdy_block_availability'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_availability', 'Max length for this field is 30 characters.');
   }
   if (strlen($values['field_rezdy_block_collection'][4]['field_rezdy_block_availability'][0]['value']) > 30){
    $form_state->setErrorByName('field_rezdy_block_collection][3][field_rezdy_block_availability', 'Max length for this field is 30 characters.');
   }
}


function character_limitation_wines_page($form, \Drupal\Core\Form\FormStateInterface $form_state) {
  $values = $form_state->getValues();
  $nutritional_info_cta1 = strlen($values['field_nutritional_info_cta1'][0]['title']);
  $nutritional_info_cta2 = strlen($values['field_nutritional_info_cta2'][0]['title']);
  $nutritional_info_cta = strlen($values['field_nutritional_info_cta'][0]['title']);
   if ($nutritional_info_cta1 > 100){
    $form_state->setErrorByName('field_nutritional_info_cta1','Max length for this field is 20 characters.');
  }
   if ($nutritional_info_cta2 > 100){
    $form_state->setErrorByName('field_nutritional_info_cta2','Max length for this field is 20 characters.');
  }
  if ($nutritional_info_cta > 20){
    $form_state->setErrorByName('field_nutritional_info_cta','Max length for this field is 20 characters.');
  }
  
  $click_to_buy_hero = strlen($values['field_click_to_buy_hero_cta'][0]['title']);
  $click_to_buy = strlen($values['field_click'][0]['title']);
  
   if ($click_to_buy_hero > 20){
    $form_state->setErrorByName('field_click_to_buy_hero_cta','Max length for this field is 20 characters.');
  }
   if ($click_to_buy > 20){
    $form_state->setErrorByName('field_click','Max length for this field is 20 characters.');
  }

}


