if(!$)var $=jQuery.noConflict();var sapient=sapient||{},commonObj=function($,window,sapient){function createInstance(){var scrollToNext=function(){var hrefLink=$($(".scroll-to")[1]).attr("id");$(".scroll-down").attr("href","#"+hrefLink)},hideLinkText=function(){$("footer section.social-icons nav ul li a").text("")},toggleAwardsDetails=function(){$(".awards-accolades .see-more-btn-wrapper .see-more-btn").click(function(){$(".awards-accolades .list-wrapper .awards-details-wrapper").removeClass("hidden-details-wrapper"),$(this).hide()})},addBgNoise=function(){for(var section=$("section .views-element-container"),i=1;i<section.length;i+=2)$(section[i]).addClass("background-noise-section")};return{scrollToNext:scrollToNext,hideLinkText:hideLinkText,toggleAwardsDetails:toggleAwardsDetails,addBgNoise:addBgNoise}}var commonInstance;return{getInstance:function(){return commonInstance||(commonInstance=createInstance()),commonInstance}}}(jQuery,window,sapient);sapient.common=commonObj.getInstance(),sapient.common.hideLinkText(),sapient.common.addBgNoise(),sapient.common.toggleAwardsDetails();var carouselObj=function($,window,sapient){function createCarouselInstance(){var enableTouchCarousel=function(value){$(value).on("touchstart",function(event){var xClick=event.originalEvent.touches[0].pageX;$(this).one("touchmove",function(event){var xMove=event.originalEvent.touches[0].pageX;Math.floor(xClick-xMove)>5?$(value).carousel("next"):Math.floor(xClick-xMove)<-5&&$(value).carousel("prev")}),$(value).on("touchend",function(){$(this).off("touchmove")})})},resize=function(){$(window).on("resize",function(){debounce(sapient.carousel.positionCarousel,500,"resizing carouselIndicator")})},positionCarousel=function(){var maxHeight,heightArr=[],interval=setInterval(function(){var $heightImg=$($("#carousel-new-story .carousel-inner  picture img")[0]).height();$heightImg>0&&($("#carousel-new-story .carousel-indicators").css("top",$heightImg-36+"px"),$.each($("#carousel-new-story .carousel-inner .item"),function(index){var $heightCarousal=$($("#carousel-new-story .carousel-inner .item")[index]).height();heightArr.push($heightCarousal),maxHeight=Math.max.apply(Math,heightArr),$("#carousel-new-story .carousel-inner").css("height",maxHeight)}),clearInterval(interval))},200)},toggleCarouselArrow=function(id){$(id).hover(function(){$(this).find(".carousel-control-wrapper").animate({opacity:["1"]},500)},function(){$(this).find(".carousel-control-wrapper").animate({opacity:["0"]},500)})};return{enableTouchCarousel:enableTouchCarousel,toggleCarouselArrow:toggleCarouselArrow,positionCarousel:positionCarousel,resize:resize}}var carouselInstance;return{getInstance:function(){return carouselInstance||(carouselInstance=createCarouselInstance()),carouselInstance}}}(jQuery,window,sapient);sapient.carousel=carouselObj.getInstance(),sapient.carousel.enableTouchCarousel("#carousel-our-story"),sapient.carousel.enableTouchCarousel("#carousel-our-wines"),sapient.carousel.enableTouchCarousel("#carousel-new-story"),sapient.carousel.positionCarousel(),sapient.carousel.resize();var headerObj=function($,window,sapient){function createHeaderInstance(){var getMenuHeadingVal=function(){$windowWidth=$(window).width();var allowSubmit=!1;$(document).on("click","#navbar-header .menu > .dropdown",function(e){$windowWidth<990&&!allowSubmit&&(e.preventDefault(),e.stopPropagation(),$(this).find(".sub-menu-wrapper .menu-heading span.text").text($(this).children("a").text().trim()),allowSubmit=!0),allowSubmit=!1}),$(document).on("click","#navbar-header .sub-menu .sub-menu-wrapper .sub-menu-link ",function(e){allowSubmit=!0}),$(document).on("click","#navbar-header .menu > .dropdown  .expand-icon ",function(e){$(this).parents(".menu-item").find(".sub-menu-wrapper .menu-heading span.text").text($(this).parents("a").text().trim())})},animateMobileMenu=function(){$("#navbar-header .menu .menu-item").on("click",function(){$(this).parents(".menu").hasClass("menu-open")?$(this).parents(".menu").removeClass("menu-open"):$(this).parents(".menu").addClass("menu-open")})},accessibleMenu=function(){$(".dropdown a").keydown(function(event){32==event.which&&(event.preventDefault(),$(this).siblings(".sub-menu").toggle())})},removeMobileLogoText=function(){$("#navbar-header .logo a").text("")},collapseMobileMenu=function(){var windowWidth=$(window).width();windowWidth<769&&$("#navbar-header").removeClass("in").addClass("collapse")},setMenuBarHeight=function(){var windowWidth=$(window).width();$("#navbar-header .menu-item").hover(function(){$(this).find(".sub-menu-wrapper").height();windowWidth>991&&$(this).find(".sub-menu").show()},function(){windowWidth>991&&$(this).find(".sub-menu").hide()})},toggleGhostMenu=function(){$(window).on("scroll",function(){0!==$(window).scrollTop()?($("#navbar-header").addClass("semi-solid-menu"),$("header").addClass("white-background")):$("#navbar-header").hasClass("in")||($("#navbar-header").removeClass("semi-solid-menu"),$("header").removeClass("white-background"))}),$("header").hover(function(){$("#navbar-header").addClass("semi-solid-menu solid-menu"),$("header").removeClass("white-background")},function(){$("#navbar-header").removeClass("solid-menu"),0==$(window).scrollTop()&&$("#navbar-header").removeClass("semi-solid-menu")})},menuMobile=function(){var clickDelay=500,clickDelayTimer=null;$(".burger-click-region").on("click",function(){if($("#navbar-header").hasClass("in")&&0==$(window).scrollTop()?$("header").removeClass("white-background").css("opacity",.96):($("header").addClass("white-background").css("opacity",1),$("#navbar-header .navbar-nav").removeClass("menu-open")),null===clickDelayTimer){var $burger=$(this);$burger.toggleClass("active"),$burger.parent().toggleClass("is-open"),$burger.hasClass("active")||$burger.addClass("closing"),clickDelayTimer=setTimeout(function(){$burger.removeClass("closing"),clearTimeout(clickDelayTimer),clickDelayTimer=null},clickDelay)}})},scrollingSubMenu=function(){$(window).width()<991?$(".sub-menu-wrapper").each(function(){$(this).height($(window).height()-$("header.navbar").height()).addClass("scrollItBaby")}):$(".sub-menu-wrapper").each(function(){$(this).height("").removeClass("scrollItBaby")})},onResize=function(){$(window).on("resize",function(){debounce(sapient.header.scrollingSubMenu,500,"scroll the subnav")})};return{getMenuHeadingVal:getMenuHeadingVal,animateMobileMenu:animateMobileMenu,removeMobileLogoText:removeMobileLogoText,collapseMobileMenu:collapseMobileMenu,setMenuBarHeight:setMenuBarHeight,toggleGhostMenu:toggleGhostMenu,menuMobile:menuMobile,accessibleMenu:accessibleMenu,scrollingSubMenu:scrollingSubMenu,onResize:onResize}}var headerInstance;return{getInstance:function(){return headerInstance||(headerInstance=createHeaderInstance()),headerInstance}}}(jQuery,window,sapient);sapient.header=headerObj.getInstance(),sapient.header.getMenuHeadingVal(),sapient.header.animateMobileMenu(),sapient.header.removeMobileLogoText(),sapient.header.collapseMobileMenu(),sapient.header.setMenuBarHeight(),sapient.header.accessibleMenu(),sapient.header.toggleGhostMenu(),sapient.header.menuMobile(),sapient.header.scrollingSubMenu(),sapient.header.onResize();var followUsObj=function($,window,sapient){function createInstagramInstance(){var setContentWidth=function(){$(window).width()>1600?$("#follow-us #content").width($(window).width()-($("#follow-us #gallery").width()+10)):$("#follow-us #content").width("")},onResize=function(){$(window).on("resize",function(){debounce(sapient.followUs.setContentWidth,100,"resizing instagram content")})};return{setContentWidth:setContentWidth,onResize:onResize}}var instagramInstance;return{getInstance:function(){return instagramInstance||(instagramInstance=createInstagramInstance()),instagramInstance}}}(jQuery,window,sapient);sapient.followUs=followUsObj.getInstance(),sapient.followUs.setContentWidth(),sapient.followUs.onResize();var ourWines=function($,window,sapient){function createFilterWinesCollection(){var filterWines=function(){var allProductsGrid=$("#response-wrapper").html();$(".filter-item").on("click",function(e){if(e.preventDefault(),"all-data"===$(this).data("categoryFilter"))$("#response-wrapper").html(allProductsGrid);else{var wineCategory=$(this).data("category"),wineCategoryFilter=$(this).data("categoryFilter");$.ajax({url:"/search-page?"+wineCategory+"="+wineCategoryFilter,type:"GET",success:function(data){$("#response-wrapper").html(data)}})}if($(window).width()<990){$("#close-filters").trigger("click");var p=$("#product-grid"),offset=p.offset();$("body, html").animate({scrollTop:offset.top},"slow")}})},mobileFiltersMenu=function(){var navTop=$("#mobile-filters h2").outerHeight();$("#open-filters").on("click",function(){$("#mobile-filters").addClass("filters-active"),$(this).addClass("filters-activated")}),$("#close-filters").on("click",function(){$("#mobile-filters").removeClass("filters-active"),$("a.category").removeClass("iamalive"),$("ul.nav.categories").css("left",""),$("#open-filters").removeClass("filters-activated")}),$("#mobile-filters-scroll-wrapper").css({height:$(window).height()-navTop}),$("a.category").on("click",function(e){e.preventDefault(),$("a.category").removeClass("iamalive"),$(this).addClass("iamalive"),$("ul.nav.categories").animate({left:"-100%"},350,"linear")}),$("a.sub-nav-return").on("click",function(e){e.preventDefault(),$(this).parent("li").find("iamalive").removeClass("iamalive"),$("ul.nav.categories").animate({left:"0"},350,"linear")})};return{filterWines:filterWines,mobileFiltersMenu:mobileFiltersMenu}}var filterWinesCollection;return{getInstance:function(){return filterWinesCollection||(filterWinesCollection=createFilterWinesCollection()),filterWinesCollection}}}(jQuery,window,sapient);sapient.winesFilter=ourWines.getInstance(),sapient.winesFilter.filterWines(),sapient.winesFilter.mobileFiltersMenu();var footerObj=function($,window,sapient){function createFooterInstance(){var setFooterDdownPos=function(){var windowWidth=$(window).width();if(windowWidth>1200){var right=(windowWidth-1170)/2;$("footer .select-wrapper").css("right",right+"px")}},onResize=function(){$(window).on("resize",function(){debounce(sapient.footer.setFooterDdownPos,500,"testing debounce")})};return{setFooterDdownPos:setFooterDdownPos,onResize:onResize}}var footerInstance;return{getInstance:function(){return footerInstance||(footerInstance=createFooterInstance()),footerInstance}}}(jQuery,window,sapient);sapient.footer=footerObj.getInstance(),sapient.footer.setFooterDdownPos(),sapient.footer.onResize();